1772277024
60a2104cb961990c28eb84f06b94c060-phpdoc%3A06d43e4ca8b07cf75f5f5630909f4cea-139483d0be77cf9faca53943e72ede05
s:15120:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjE4OiJsb2d1ZWFyX21lZGljby5waHAiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaGFzaCI7czozMjoiMTM5NDgzZDBiZTc3Y2Y5ZmFjYTUzOTQzZTcyZWRlMDUiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czozNToiYXBwL3Zpc3RhL21lZGljby9sb2d1ZWFyX21lZGljby5waHAiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjEwNDE3OiI8P3BocA0KDQp1c2UgTWVkaWFnZW5kXEFwcFxDb25maWdcRW5sYWNlczsNCj8+DQoNCjwhRE9DVFlQRSBodG1sPg0KPGh0bWwgbGFuZz0iZXMiPg0KDQo8aGVhZD4NCiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+DQogICAgPHRpdGxlPlJlZ2lzdHJhciBNw6lkaWNvPC90aXRsZT4NCg0KICAgIDwhLS0gRXN0aWxvcyByZXV0aWxpemFkb3MgLS0+DQogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSI8Pz0gRW5sYWNlczo6QkFTRV9VUkwgPz5zdHlsZXMvZm9ybS5jc3MiPg0KICAgIDxsaW5rIHJlbD0iaWNvbiIgdHlwZT0iaW1hZ2UvcG5nIiBzaXplcz0iMTgweDE4MCIgaHJlZj0iPD89IEVubGFjZXM6OklNR19JQ09OT19VUkwgPz5JY29uby5wbmciPg0KPC9oZWFkPg0KDQo8Ym9keT4NCg0KICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+DQoNCiAgICAgICAgPGhlYWRlcj4NCiAgICAgICAgICAgIDxoMj5SZWdpc3RyYXIgTnVldm8gTcOpZGljbzwvaDI+DQogICAgICAgIDwvaGVhZGVyPg0KDQogICAgICAgIDwhLS0gTUVOU0FKRSBHTE9CQUwgLS0+DQogICAgICAgIDxkaXYgaWQ9ImZvcm1FcnJvckdsb2JhbCIgY2xhc3M9ImZvcm0tZXJyb3ItZ2xvYmFsIj4NCiAgICAgICAgICAgIFBvciBmYXZvciwgY29ycmlnZSBsb3MgZXJyb3JlcyBlbiBlbCBmb3JtdWxhcmlvDQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDxmb3JtIGFjdGlvbj0iPD89IEVubGFjZXM6OkJBU0VfVVJMID8+bWVkaWNvL3JlZ2lzdHJhcl9tZWRpY28iIG1ldGhvZD0iUE9TVCIgZW5jdHlwZT0ibXVsdGlwYXJ0L2Zvcm0tZGF0YSIgY2xhc3M9ImZvcm0iIGlkPSJmb3JtUmVnaXN0cm9NZWRpY28iPg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICA8bGFiZWw+Rm90byBkZWwgTcOpZGljbzwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImZpbGUiIG5hbWU9ImZvdG9fbWVkaWNvIiBhY2NlcHQ9ImltYWdlLyoiPg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxsYWJlbD5Ow7ptZXJvIGRlIENvbGVnaWFkbzwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Im51bWVyb19jb2xlZ2lhZG8iIGlkPSJudW1lcm9fY29sZWdpYWRvIiBwbGFjZWhvbGRlcj0iSW50cm9kdWNlIGxvcyA5IGRpZ2l0b3MgZGVsIGNvbGVnaWFkbyIgcmVxdWlyZWQ+DQogICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJlcnJvci1tc2ciPjwvc21hbGw+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgPGxhYmVsPkVzcGVjaWFsaWRhZDwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImVzcGVjaWFsaWRhZF9tZWRpY28iIGlkPSJlc3BlY2lhbGlkYWRfbWVkaWNvIiBwbGFjZWhvbGRlcj0iSW50cm9kdWNlIGxhIGVzcGVjaWFsaWRhZCIgcmVxdWlyZWQ+DQogICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJlcnJvci1tc2ciPjwvc21hbGw+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgPGxhYmVsPk5vbWJyZTwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Im5vbWJyZV9tZWRpY28iIGlkPSJub21icmVfbWVkaWNvIiBwbGFjZWhvbGRlcj0iSW50cm9kdWNlIGVsIG5vbWJyZSIgcmVxdWlyZWQ+DQogICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJlcnJvci1tc2ciPjwvc21hbGw+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgPGxhYmVsPkFwZWxsaWRvczwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImFwZWxsaWRvc19tZWRpY28iIGlkPSJhcGVsbGlkb3NfbWVkaWNvIiBwbGFjZWhvbGRlcj0iSW50cm9kdWNlIGxvcyBhcGVsbGlkb3MiIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz0iZXJyb3ItbXNnIj48L3NtYWxsPg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxsYWJlbD5ETkk8L2xhYmVsPg0KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJkbmlfbWVkaWNvIiBpZD0iZG5pX21lZGljbyIgcGxhY2Vob2xkZXI9IjAwMDAwMDAwQSIgcmVxdWlyZWQ+DQogICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJlcnJvci1tc2ciPjwvc21hbGw+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgPGxhYmVsPlRlbMOpZm9ubzwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InRlbGVmb25vX21lZGljbyIgaWQ9InRlbGVmb25vX21lZGljbyIgcGxhY2Vob2xkZXI9IkludHJvZHVjZSBlbCB0ZWzDqWZvbm8iIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz0iZXJyb3ItbXNnIj48L3NtYWxsPg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxsYWJlbD5FbWFpbDwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImVtYWlsIiBuYW1lPSJlbWFpbF9tZWRpY28iIGlkPSJlbWFpbF9tZWRpY28iIHBsYWNlaG9sZGVyPSJJbnRyb2R1Y2UgZWwgZW1haWwiIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz0iZXJyb3ItbXNnIj48L3NtYWxsPg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIGlkPSJib3hfcGFzcyI+DQogICAgICAgICAgICAgICAgPGxhYmVsPkNvbnRyYXNlw7FhOjwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBuYW1lPSJwYXNzd29yZCIgaWQ9InBhc3N3b3JkIiBwbGFjZWhvbGRlcj0iSW5ncmVzYSB1bmEgY29udHJhc2XDsWEiIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJ2ZXJfcGFzc18xIj5Nb3N0cmFyPC9zcGFuPg0KICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz0iZXJyb3ItbXNnIj48L3NtYWxsPg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIGlkPSJib3hfcGFzcyI+DQogICAgICAgICAgICAgICAgPGxhYmVsPlJlcGV0aXIgQ29udHJhc2XDsWE6PC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9InBhc3N3b3JkXzIiIGlkPSJwYXNzd29yZF8yIiBwbGFjZWhvbGRlcj0iUmVwaXRlIGxhIGNvbnRyYXNlw7FhIiByZXF1aXJlZD4NCiAgICAgICAgICAgICAgICA8c3BhbiBpZD0idmVyX3Bhc3NfMiI+TW9zdHJhcjwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9ImVycm9yLW1zZyI+PC9zbWFsbD4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8YnV0dG9uIHR5cGU9InJlc2V0IiBjbGFzcz0iYnRuLXJlc2V0Ij5Cb3JyYXIgdG9kbzwvYnV0dG9uPg0KICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4tc3VibWl0Ij5SZWdpc3RyYXIgTcOpZGljbzwvYnV0dG9uPg0KICAgICAgICA8L2Zvcm0+DQoNCiAgICA8L2Rpdj4NCiAgICA8IS0tID09PT09PT09PT09PT09PT09PT09PQ0KICAgICBNT1NUUkFSIENPTlRSQVNFw5FBDQo9PT09PT09PT09PT09PT09PT09PT0gLS0+DQogICAgPHNjcmlwdD4NCiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlUGFzcyhpbnB1dElkLCBidG5JZCkgew0KICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dElkKTsNCiAgICAgICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ0bklkKTsNCg0KICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChpbnB1dC50eXBlID09PSAicGFzc3dvcmQiKSB7DQogICAgICAgICAgICAgICAgICAgIGlucHV0LnR5cGUgPSAidGV4dCI7DQogICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0Q29udGVudCA9ICJPY3VsdGFyIjsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBpbnB1dC50eXBlID0gInBhc3N3b3JkIjsNCiAgICAgICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gIk1vc3RyYXIiOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgdG9nZ2xlUGFzcygicGFzc3dvcmQiLCAidmVyX3Bhc3NfMSIpOw0KICAgICAgICB0b2dnbGVQYXNzKCJwYXNzd29yZF8yIiwgInZlcl9wYXNzXzIiKTsNCiAgICA8L3NjcmlwdD4NCiAgICA8IS0tID09PT09PT09PT09PT09PT09PT09PQ0KICAgICBWQUxJREFDScOTTiBFTiBUSUVNUE8gUkVBTA0KPT09PT09PT09PT09PT09PT09PT09IC0tPg0KICAgIDxzY3JpcHQ+DQogICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybVJlZ2lzdHJvTWVkaWNvJyk7DQogICAgICAgIGNvbnN0IGVycm9yR2xvYmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1FcnJvckdsb2JhbCcpOw0KDQogICAgICAgIGNvbnN0IG51bWVyb0NvbGVnaWFkbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdudW1lcm9fY29sZWdpYWRvJyk7DQogICAgICAgIGNvbnN0IGVzcGVjaWFsaWRhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlc3BlY2lhbGlkYWRfbWVkaWNvJyk7DQogICAgICAgIGNvbnN0IG5vbWJyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub21icmVfbWVkaWNvJyk7DQogICAgICAgIGNvbnN0IGFwZWxsaWRvcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcGVsbGlkb3NfbWVkaWNvJyk7DQogICAgICAgIGNvbnN0IGRuaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkbmlfbWVkaWNvJyk7DQogICAgICAgIGNvbnN0IHRlbGVmb25vID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlbGVmb25vX21lZGljbycpOw0KICAgICAgICBjb25zdCBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbF9tZWRpY28nKTsNCiAgICAgICAgY29uc3QgcGFzczEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmRfbWVkaWNvJyk7DQogICAgICAgIGNvbnN0IHBhc3MyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkMl9tZWRpY28nKTsNCg0KICAgICAgICAvKiBGVU5DSU9ORVMgREUgVkFMSURBQ0nDk04gKi8NCiAgICAgICAgZnVuY3Rpb24gc2V0RXJyb3IoaW5wdXQsIG1lc3NhZ2UpIHsNCiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gaW5wdXQucGFyZW50RWxlbWVudDsNCiAgICAgICAgICAgIGdyb3VwLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7DQogICAgICAgICAgICBncm91cC5jbGFzc0xpc3QucmVtb3ZlKCdzdWNjZXNzJyk7DQogICAgICAgICAgICBncm91cC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItbXNnJykuaW5uZXJUZXh0ID0gbWVzc2FnZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHNldFN1Y2Nlc3MoaW5wdXQpIHsNCiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gaW5wdXQucGFyZW50RWxlbWVudDsNCiAgICAgICAgICAgIGdyb3VwLmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7DQogICAgICAgICAgICBncm91cC5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJyk7DQogICAgICAgICAgICBncm91cC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItbXNnJykuaW5uZXJUZXh0ID0gJyc7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiB2YWxpZGFyVGV4dG8oaW5wdXQsIG1pbiwgbWF4KSB7DQogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGlucHV0LnZhbHVlLnRyaW0oKTsNCiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCBtaW4gfHwgdmFsdWUubGVuZ3RoID4gbWF4KSB7DQogICAgICAgICAgICAgICAgc2V0RXJyb3IoaW5wdXQsIGBEZWJlIHRlbmVyIGVudHJlICR7bWlufSB5ICR7bWF4fSBjYXJhY3RlcmVzYCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2V0U3VjY2VzcyhpbnB1dCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHZhbGlkYXJOdW1lcm9Db2xlZ2lhZG8oaW5wdXQpIHsNCiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gL15bMC05XXs5fSQvOw0KICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LnZhbHVlLnRyaW0oKSkpIHsNCiAgICAgICAgICAgICAgICBzZXRFcnJvcihpbnB1dCwgJ0RlYmUgdGVuZXIgOSBkw61naXRvcyBudW3DqXJpY29zJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2V0U3VjY2VzcyhpbnB1dCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHZhbGlkYXJFbWFpbChpbnB1dCkgew0KICAgICAgICAgICAgY29uc3QgcmVnZXggPSAvXlteXHNAXStAW15cc0BdK1wuW15cc0BdKyQvOw0KICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LnZhbHVlLnRyaW0oKSkpIHsNCiAgICAgICAgICAgICAgICBzZXRFcnJvcihpbnB1dCwgJ0VtYWlsIG5vIHbDoWxpZG8nKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzZXRTdWNjZXNzKGlucHV0KTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gdmFsaWRhclRlbGVmb25vKGlucHV0KSB7DQogICAgICAgICAgICBjb25zdCByZWdleCA9IC9eWzAtOV17OX0kLzsNCiAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC52YWx1ZS50cmltKCkpKSB7DQogICAgICAgICAgICAgICAgc2V0RXJyb3IoaW5wdXQsICdEZWJlIHRlbmVyIDkgZMOtZ2l0b3MgbnVtw6lyaWNvcycpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNldFN1Y2Nlc3MoaW5wdXQpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiB2YWxpZGFyUGFzc3dvcmRzKCkgew0KICAgICAgICAgICAgbGV0IHZhbGlkbyA9IHRydWU7DQoNCiAgICAgICAgICAgIC8vIFZhbGlkYXIgbG9uZ2l0dWQgcGFzczENCiAgICAgICAgICAgIGlmIChwYXNzMS52YWx1ZS5sZW5ndGggPCA2KSB7DQogICAgICAgICAgICAgICAgc2V0RXJyb3IocGFzczEsICdNw61uaW1vIDYgY2FyYWN0ZXJlcycpOw0KICAgICAgICAgICAgICAgIHZhbGlkbyA9IGZhbHNlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBzZXRTdWNjZXNzKHBhc3MxKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gU29sbyB2YWxpZGFyIGNvaW5jaWRlbmNpYSBzaSBwYXNzMiB0aWVuZSBhbGdvIGVzY3JpdG8NCiAgICAgICAgICAgIGlmIChwYXNzMi52YWx1ZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgaWYgKHBhc3MxLnZhbHVlICE9PSBwYXNzMi52YWx1ZSkgew0KICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcihwYXNzMiwgJ0xhcyBjb250cmFzZcOxYXMgbm8gY29pbmNpZGVuJyk7DQogICAgICAgICAgICAgICAgICAgIHZhbGlkbyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHNldFN1Y2Nlc3MocGFzczIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8gc2kgYcO6biBubyBlc2NyaWJpw7MsIG5vIG11ZXN0cmVzIGVycm9yDQogICAgICAgICAgICAgICAgc2V0U3VjY2VzcyhwYXNzMik7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiB2YWxpZG87DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiB2YWxpZGFyRE5JKGlucHV0KSB7DQogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGlucHV0LnZhbHVlLnRyaW0oKS50b1VwcGVyQ2FzZSgpOw0KICAgICAgICAgICAgY29uc3QgZG5pUmVnZXggPSAvXlswLTldezh9W0EtWl0kLzsNCg0KICAgICAgICAgICAgaWYgKCFkbmlSZWdleC50ZXN0KHZhbHVlKSkgew0KICAgICAgICAgICAgICAgIHNldEVycm9yKGlucHV0LCAnRE5JIGludsOhbGlkbywgZGViZSBjb250ZW5lciA5IGRpZ2l0b3Mgc2VndWlkbyBkZSB1bmEgbGV0cmEnKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGNvbnN0IGxldHJhcyA9ICJUUldBR01ZRlBEWEJOSlpTUVZITENLRSI7DQogICAgICAgICAgICBjb25zdCBudW1lcm8gPSB2YWx1ZS5zdWJzdHJpbmcoMCwgOCk7DQogICAgICAgICAgICBjb25zdCBsZXRyYSA9IHZhbHVlLmNoYXJBdCg4KTsNCg0KICAgICAgICAgICAgaWYgKGxldHJhc1tudW1lcm8gJSAyM10gIT09IGxldHJhKSB7DQogICAgICAgICAgICAgICAgc2V0RXJyb3IoaW5wdXQsICdMZXRyYSBkZWwgRE5JIGluY29ycmVjdGEnKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHNldFN1Y2Nlc3MoaW5wdXQpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCg0KICAgICAgICAvKiBFVkVOVE9TIEVOIFRJRU1QTyBSRUFMICovDQogICAgICAgIG51bWVyb0NvbGVnaWFkby5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHZhbGlkYXJOdW1lcm9Db2xlZ2lhZG8obnVtZXJvQ29sZWdpYWRvKSk7DQogICAgICAgIGVzcGVjaWFsaWRhZC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHZhbGlkYXJUZXh0byhlc3BlY2lhbGlkYWQsIDMsIDUwKSk7DQogICAgICAgIG5vbWJyZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHZhbGlkYXJUZXh0byhub21icmUsIDMsIDMwKSk7DQogICAgICAgIGFwZWxsaWRvcy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHZhbGlkYXJUZXh0byhhcGVsbGlkb3MsIDMsIDUwKSk7DQogICAgICAgIGRuaS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHZhbGlkYXJETkkoZG5pKSk7DQogICAgICAgIHRlbGVmb25vLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gdmFsaWRhclRlbGVmb25vKHRlbGVmb25vKSk7DQogICAgICAgIGVtYWlsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gdmFsaWRhckVtYWlsKGVtYWlsKSk7DQogICAgICAgIHBhc3MxLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdmFsaWRhclBhc3N3b3Jkcyk7DQogICAgICAgIHBhc3MyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdmFsaWRhclBhc3N3b3Jkcyk7DQoNCiAgICAgICAgLyogVkFMSURBQ0nDk04gQUwgRU5WSUFSIEZPUk1VTEFSSU8gKi8NCiAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBlID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHZhbGlkbyA9DQogICAgICAgICAgICAgICAgdmFsaWRhck51bWVyb0NvbGVnaWFkbyhudW1lcm9Db2xlZ2lhZG8pICYmDQogICAgICAgICAgICAgICAgdmFsaWRhclRleHRvKGVzcGVjaWFsaWRhZCwgMywgNTApICYmDQogICAgICAgICAgICAgICAgdmFsaWRhclRleHRvKG5vbWJyZSwgMywgMzApICYmDQogICAgICAgICAgICAgICAgdmFsaWRhclRleHRvKGFwZWxsaWRvcywgMywgNTApICYmDQogICAgICAgICAgICAgICAgdmFsaWRhckROSShkbmkpICYmDQogICAgICAgICAgICAgICAgdmFsaWRhclRlbGVmb25vKHRlbGVmb25vKSAmJg0KICAgICAgICAgICAgICAgIHZhbGlkYXJFbWFpbChlbWFpbCkgJiYNCiAgICAgICAgICAgICAgICB2YWxpZGFyUGFzc3dvcmRzKCk7DQoNCiAgICAgICAgICAgIGlmICghdmFsaWRvKSB7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIGVycm9yR2xvYmFsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZXJyb3JHbG9iYWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICA8L3NjcmlwdD4NCg0KPC9ib2R5Pg0KDQo8L2h0bWw+IjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGRvY0Jsb2NrIjtOO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";