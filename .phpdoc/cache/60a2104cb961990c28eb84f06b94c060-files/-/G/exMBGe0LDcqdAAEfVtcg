1772277024
60a2104cb961990c28eb84f06b94c060-phpdoc%3A7ecb54fe98ff9db33d45fdc0b8f776e5-f5911ef407f3eb75f287f5d56cf514e1
s:14136:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjE5OiJsb2d1ZWFyX2NsaW5pY2EucGhwIjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e31zOjQwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGVudW1zIjthOjA6e31zOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6ImY1OTExZWY0MDdmM2ViNzVmMjg3ZjVkNTZjZjUxNGUxIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6Mzc6ImFwcC92aXN0YS9jbGluaWNhL2xvZ3VlYXJfY2xpbmljYS5waHAiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjk2Nzc6Ijw/cGhwDQoNCnVzZSBNZWRpYWdlbmRcQXBwXENvbmZpZ1xFbmxhY2VzOw0KDQppZiAoc2Vzc2lvbl9zdGF0dXMoKSA9PT0gUEhQX1NFU1NJT05fTk9ORSkgew0KICAgIHNlc3Npb25fc3RhcnQoKTsNCn0NCg0KJG5vbWJyZUFkbWluID0gJF9TRVNTSU9OWydhZG1pbiddWyd1c3VhcmlvX2FkbWluJ10gPz8gJ2FkbWluX2RlZmF1bHQnOw0KPz4NCg0KPCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlcyI+DQoNCjxoZWFkPg0KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4NCiAgICA8dGl0bGU+UmVnaXN0cmFyIENsw61uaWNhPC90aXRsZT4NCg0KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iPD89IEVubGFjZXM6OkJBU0VfVVJMID8+c3R5bGVzL2Zvcm0uY3NzIj4NCiAgICA8bGluayByZWw9Imljb24iIHR5cGU9ImltYWdlL3BuZyIgc2l6ZXM9IjE4MHgxODAiIGhyZWY9Ijw/PSBFbmxhY2VzOjpJTUdfSUNPTk9fVVJMID8+SWNvbm8ucG5nIj4NCjwvaGVhZD4NCg0KPGJvZHk+DQoNCiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPg0KDQogICAgICAgIDxoZWFkZXI+DQogICAgICAgICAgICA8aDI+UmVnaXN0cmFyIE51ZXZhIENsw61uaWNhPC9oMj4NCiAgICAgICAgPC9oZWFkZXI+DQoNCiAgICAgICAgPCEtLSBNRU5TQUpFIEdMT0JBTCAtLT4NCiAgICAgICAgPGRpdiBpZD0iZm9ybUVycm9yR2xvYmFsIiBjbGFzcz0iZm9ybS1lcnJvci1nbG9iYWwiPg0KICAgICAgICAgICAgVG9kYXMgbGFzIGVudHJhZGFzIGRlYmVuIHNlciB2YWxpZGFkYXMNCiAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgPGZvcm0gYWN0aW9uPSI8Pz0gRW5sYWNlczo6QkFTRV9VUkwgPz5jbGluaWNhL3JlZ2lzdHJhcl9jbGluaWNhIg0KICAgICAgICAgICAgbWV0aG9kPSJQT1NUIg0KICAgICAgICAgICAgZW5jdHlwZT0ibXVsdGlwYXJ0L2Zvcm0tZGF0YSINCiAgICAgICAgICAgIGNsYXNzPSJmb3JtIg0KICAgICAgICAgICAgaWQ9ImZvcm1DbGluaWNhIj4NCg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idXN1YXJpb19hZG1pbl9jbGluaWNhIiB2YWx1ZT0iPD89IGh0bWxzcGVjaWFsY2hhcnMoJG5vbWJyZUFkbWluKSA/PiI+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxsYWJlbD5Gb3RvIGRlIGxhIGNsw61uaWNhPC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgbmFtZT0iZm90b19jbGluaWNhIiBhY2NlcHQ9ImltYWdlLyoiPg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxsYWJlbD5Ob21icmUgZGUgbGEgY2zDrW5pY2E8L2xhYmVsPg0KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJub21icmVfY2xpbmljYSIgaWQ9Im5vbWJyZV9jbGluaWNhIiByZXF1aXJlZD4NCiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9ImVycm9yLW1zZyI+PC9zbWFsbD4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICA8bGFiZWw+TklGIChETkkgbyBDSUYpPC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCINCiAgICAgICAgICAgICAgICAgICAgbmFtZT0ibmlmX2NsaW5pY2EiDQogICAgICAgICAgICAgICAgICAgIGlkPSJuaWZfY2xpbmljYSINCiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9IjEyMzQ1Njc4WiBvIEExMjM0NTY3OCINCiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ+DQogICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJlcnJvci1tc2ciPjwvc21hbGw+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgPGxhYmVsPkRpcmVjY2nDs248L2xhYmVsPg0KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJkaXJlY2Npb25fY2xpbmljYSIgaWQ9ImRpcmVjY2lvbl9jbGluaWNhIiByZXF1aXJlZD4NCiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9ImVycm9yLW1zZyI+PC9zbWFsbD4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICA8bGFiZWw+VGVsw6lmb25vPC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0idGVsZWZvbm9fY2xpbmljYSIgaWQ9InRlbGVmb25vX2NsaW5pY2EiIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz0iZXJyb3ItbXNnIj48L3NtYWxsPg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxsYWJlbD5FbWFpbDwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImVtYWlsIiBuYW1lPSJlbWFpbF9jbGluaWNhIiBpZD0iZW1haWxfY2xpbmljYSIgcmVxdWlyZWQ+DQogICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJlcnJvci1tc2ciPjwvc21hbGw+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgPGxhYmVsPlVzdWFyaW88L2xhYmVsPg0KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ1c3VhcmlvX2NsaW5pY2EiIGlkPSJ1c3VhcmlvX2NsaW5pY2EiIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz0iZXJyb3ItbXNnIj48L3NtYWxsPg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIGlkPSJib3hfcGFzcyI+DQogICAgICAgICAgICAgICAgPGxhYmVsPkNvbnRyYXNlw7FhOjwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBuYW1lPSJwYXNzd29yZCIgaWQ9InBhc3N3b3JkIiBwbGFjZWhvbGRlcj0iSW5ncmVzYSB1bmEgY29udHJhc2XDsWEiIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJ2ZXJfcGFzc18xIj5Nb3N0cmFyPC9zcGFuPg0KICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz0iZXJyb3ItbXNnIj48L3NtYWxsPg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIGlkPSJib3hfcGFzcyI+DQogICAgICAgICAgICAgICAgPGxhYmVsPlJlcGV0aXIgQ29udHJhc2XDsWE6PC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9InBhc3N3b3JkXzIiIGlkPSJwYXNzd29yZF8yIiBwbGFjZWhvbGRlcj0iUmVwaXRlIGxhIGNvbnRyYXNlw7FhIiByZXF1aXJlZD4NCiAgICAgICAgICAgICAgICA8c3BhbiBpZD0idmVyX3Bhc3NfMiI+TW9zdHJhcjwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9ImVycm9yLW1zZyI+PC9zbWFsbD4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJyZXNldCIgY2xhc3M9ImJ0bi1yZXNldCI+Qm9ycmFyIHRvZG88L2J1dHRvbj4NCiAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuLXN1Ym1pdCI+UmVnaXN0cmFyIENsw61uaWNhPC9idXR0b24+DQogICAgICAgIDwvZm9ybT4NCg0KICAgIDwvZGl2Pg0KDQoNCiAgICA8IS0tID09PT09PT09PT09PT09PT09PT09PQ0KICAgICBNT1NUUkFSIENPTlRSQVNFw5FBDQo9PT09PT09PT09PT09PT09PT09PT0gLS0+DQogICAgPHNjcmlwdD4NCiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlUGFzcyhpbnB1dElkLCBidG5JZCkgew0KICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dElkKTsNCiAgICAgICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ0bklkKTsNCg0KICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChpbnB1dC50eXBlID09PSAicGFzc3dvcmQiKSB7DQogICAgICAgICAgICAgICAgICAgIGlucHV0LnR5cGUgPSAidGV4dCI7DQogICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0Q29udGVudCA9ICJPY3VsdGFyIjsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBpbnB1dC50eXBlID0gInBhc3N3b3JkIjsNCiAgICAgICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gIk1vc3RyYXIiOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgdG9nZ2xlUGFzcygicGFzc3dvcmQiLCAidmVyX3Bhc3NfMSIpOw0KICAgICAgICB0b2dnbGVQYXNzKCJwYXNzd29yZF8yIiwgInZlcl9wYXNzXzIiKTsNCiAgICA8L3NjcmlwdD4NCiAgICA8IS0tID09PT09PT09PT09PT09PT09PT09PQ0KICAgICBWQUxJREFDScOTTiBFTiBUSUVNUE8gUkVBTA0KPT09PT09PT09PT09PT09PT09PT09IC0tPg0KICAgIDxzY3JpcHQ+DQogICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybUNsaW5pY2EnKTsNCiAgICAgICAgY29uc3QgZXJyb3JHbG9iYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybUVycm9yR2xvYmFsJyk7DQoNCiAgICAgICAgY29uc3Qgbm9tYnJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vbWJyZV9jbGluaWNhJyk7DQogICAgICAgIGNvbnN0IG5pZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduaWZfY2xpbmljYScpOw0KICAgICAgICBjb25zdCBkaXJlY2Npb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlyZWNjaW9uX2NsaW5pY2EnKTsNCiAgICAgICAgY29uc3QgdGVsZWZvbm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVsZWZvbm9fY2xpbmljYScpOw0KICAgICAgICBjb25zdCBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbF9jbGluaWNhJyk7DQogICAgICAgIGNvbnN0IHVzdWFyaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXN1YXJpb19jbGluaWNhJyk7DQogICAgICAgIGNvbnN0IHBhc3MxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkJyk7DQogICAgICAgIGNvbnN0IHBhc3MyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkXzInKTsNCg0KICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT0NCiAgICAgICAgICAgSEVMUEVSUyBVSQ0KICAgICAgICA9PT09PT09PT09PT09PT09PT09PT0gKi8NCiAgICAgICAgZnVuY3Rpb24gc2V0RXJyb3IoaW5wdXQsIG1lc3NhZ2UpIHsNCiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gaW5wdXQucGFyZW50RWxlbWVudDsNCiAgICAgICAgICAgIGdyb3VwLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7DQogICAgICAgICAgICBncm91cC5jbGFzc0xpc3QucmVtb3ZlKCdzdWNjZXNzJyk7DQogICAgICAgICAgICBncm91cC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItbXNnJykuaW5uZXJUZXh0ID0gbWVzc2FnZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHNldFN1Y2Nlc3MoaW5wdXQpIHsNCiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gaW5wdXQucGFyZW50RWxlbWVudDsNCiAgICAgICAgICAgIGdyb3VwLmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7DQogICAgICAgICAgICBncm91cC5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJyk7DQogICAgICAgICAgICBncm91cC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItbXNnJykuaW5uZXJUZXh0ID0gJyc7DQogICAgICAgIH0NCg0KICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT0NCiAgICAgICAgICAgVkFMSURBQ0lPTkVTDQogICAgICAgID09PT09PT09PT09PT09PT09PT09PSAqLw0KICAgICAgICBmdW5jdGlvbiB2YWxpZGFyVGV4dG8oaW5wdXQsIG1pbiwgbWF4KSB7DQogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGlucHV0LnZhbHVlLnRyaW0oKTsNCiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCBtaW4gfHwgdmFsdWUubGVuZ3RoID4gbWF4KSB7DQogICAgICAgICAgICAgICAgc2V0RXJyb3IoaW5wdXQsIGBEZWJlIHRlbmVyIGVudHJlICR7bWlufSB5ICR7bWF4fSBjYXJhY3RlcmVzYCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc2V0U3VjY2VzcyhpbnB1dCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHZhbGlkYXJFbWFpbChpbnB1dCkgew0KICAgICAgICAgICAgY29uc3QgcmVnZXggPSAvXlteXHNAXStAW15cc0BdK1wuW15cc0BdKyQvOw0KICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LnZhbHVlLnRyaW0oKSkpIHsNCiAgICAgICAgICAgICAgICBzZXRFcnJvcihpbnB1dCwgJ0VtYWlsIG5vIHbDoWxpZG8nKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzZXRTdWNjZXNzKGlucHV0KTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gdmFsaWRhclRlbGVmb25vKGlucHV0KSB7DQogICAgICAgICAgICBjb25zdCByZWdleCA9IC9eWzAtOV17OX0kLzsNCiAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC52YWx1ZS50cmltKCkpKSB7DQogICAgICAgICAgICAgICAgc2V0RXJyb3IoaW5wdXQsICdEZWJlIHRlbmVyIDkgZMOtZ2l0b3MnKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzZXRTdWNjZXNzKGlucHV0KTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgLyogRE5JIG8gQ0lGICovDQogICAgICAgIGZ1bmN0aW9uIHZhbGlkYXJOSUYoaW5wdXQpIHsNCiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaW5wdXQudmFsdWUudHJpbSgpLnRvVXBwZXJDYXNlKCk7DQoNCiAgICAgICAgICAgIGNvbnN0IGRuaSA9IC9eWzAtOV17OH1bQS1aXSQvOw0KICAgICAgICAgICAgY29uc3QgY2lmID0gL15bQS1aXVswLTldezh9JC87DQoNCiAgICAgICAgICAgIGlmICghZG5pLnRlc3QodmFsdWUpICYmICFjaWYudGVzdCh2YWx1ZSkpIHsNCiAgICAgICAgICAgICAgICBzZXRFcnJvcihpbnB1dCwgJ0RlYmUgc2VyIHVuIEROSSBvIENJRiB2w6FsaWRvJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBzZXRTdWNjZXNzKGlucHV0KTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gdmFsaWRhclBhc3N3b3JkcygpIHsNCiAgICAgICAgICAgIGxldCB2YWxpZG8gPSB0cnVlOw0KDQogICAgICAgICAgICAvLyBWYWxpZGFyIGxvbmdpdHVkIHBhc3MxDQogICAgICAgICAgICBpZiAocGFzczEudmFsdWUubGVuZ3RoIDwgNikgew0KICAgICAgICAgICAgICAgIHNldEVycm9yKHBhc3MxLCAnTcOtbmltbyA2IGNhcmFjdGVyZXMnKTsNCiAgICAgICAgICAgICAgICB2YWxpZG8gPSBmYWxzZTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgc2V0U3VjY2VzcyhwYXNzMSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIFNvbG8gdmFsaWRhciBjb2luY2lkZW5jaWEgc2kgcGFzczIgdGllbmUgYWxnbyBlc2NyaXRvDQogICAgICAgICAgICBpZiAocGFzczIudmFsdWUubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIGlmIChwYXNzMS52YWx1ZSAhPT0gcGFzczIudmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IocGFzczIsICdMYXMgY29udHJhc2XDsWFzIG5vIGNvaW5jaWRlbicpOw0KICAgICAgICAgICAgICAgICAgICB2YWxpZG8gPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzZXRTdWNjZXNzKHBhc3MyKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIC8vIHNpIGHDum4gbm8gZXNjcmliacOzLCBubyBtdWVzdHJlcyBlcnJvcg0KICAgICAgICAgICAgICAgIHNldFN1Y2Nlc3MocGFzczIpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gdmFsaWRvOw0KICAgICAgICB9DQoNCiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09DQogICAgICAgICAgIFRJRU1QTyBSRUFMDQogICAgICAgID09PT09PT09PT09PT09PT09PT09PSAqLw0KICAgICAgICBub21icmUuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB2YWxpZGFyVGV4dG8obm9tYnJlLCAzLCAzMCkpOw0KICAgICAgICBuaWYuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB2YWxpZGFyTklGKG5pZikpOw0KICAgICAgICBkaXJlY2Npb24uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB2YWxpZGFyVGV4dG8oZGlyZWNjaW9uLCA1LCAxMDApKTsNCiAgICAgICAgdGVsZWZvbm8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB2YWxpZGFyVGVsZWZvbm8odGVsZWZvbm8pKTsNCiAgICAgICAgZW1haWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB2YWxpZGFyRW1haWwoZW1haWwpKTsNCiAgICAgICAgdXN1YXJpby5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHZhbGlkYXJUZXh0byh1c3VhcmlvLCAzLCAxNSkpOw0KICAgICAgICBwYXNzMS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHZhbGlkYXJQYXNzd29yZCk7DQogICAgICAgIHBhc3MyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdmFsaWRhclBhc3N3b3JkKTsNCg0KICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT0NCiAgICAgICAgICAgU1VCTUlUDQogICAgICAgID09PT09PT09PT09PT09PT09PT09PSAqLw0KICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGUgPT4gew0KICAgICAgICAgICAgY29uc3QgdmFsaWRvID0NCiAgICAgICAgICAgICAgICB2YWxpZGFyVGV4dG8obm9tYnJlLCAzLCAzMCkgJiYNCiAgICAgICAgICAgICAgICB2YWxpZGFyTklGKG5pZikgJiYNCiAgICAgICAgICAgICAgICB2YWxpZGFyVGV4dG8oZGlyZWNjaW9uLCA1LCAxMDApICYmDQogICAgICAgICAgICAgICAgdmFsaWRhclRlbGVmb25vKHRlbGVmb25vKSAmJg0KICAgICAgICAgICAgICAgIHZhbGlkYXJFbWFpbChlbWFpbCkgJiYNCiAgICAgICAgICAgICAgICB2YWxpZGFyVGV4dG8odXN1YXJpbywgMywgMTUpICYmDQogICAgICAgICAgICAgICAgdmFsaWRhclBhc3N3b3JkKCk7DQoNCiAgICAgICAgICAgIGlmICghdmFsaWRvKSB7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIGVycm9yR2xvYmFsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZXJyb3JHbG9iYWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICA8L3NjcmlwdD4NCg0KPC9ib2R5Pg0KDQo8L2h0bWw+IjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGRvY0Jsb2NrIjtOO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";